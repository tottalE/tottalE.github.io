<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Read this if ScrollView Layout Guide makes you confused. | jinju Ok</title> <meta name="author" content="jinju Ok"/> <meta name="description" content="I will make simple tutorial that you can follow so get ready with Xcode and let`s dive into it! Hands on!"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒˆ</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://tottale.github.io/blog/2022/scroll-view-guide1/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">jinjuÂ </span>Ok</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Read this if ScrollView Layout Guide makes you confused.</h1> <p class="post-meta">November 1, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a> </p> </header> <article class="post-content"> <p>In scrollView from iOS 11, apple added scrollView guides but it may make recently first learner confused so I decided to write a short tutorial.</p> <p>I will make simple tutorial that you can follow so get ready with Xcode and let`s dive into it! Hands on!</p> <h3 id="before-we-start">Before we start</h3> <p>First of all, there are two ways you can make scrollViews. <strong>With scrollView guide</strong> and <strong>without scrollView guide</strong>. Lot of tutorials out there are mixing each other so that learners may get confused. So I am going to seperate it so that you can understand what is going. I will only talk with scrollView guide and I will post next one in the future.</p> <p>I have to explain, that you have to do two things to make scrollView work. <strong>First</strong>, you need to fix the scrollView frame to its superview. <strong>Second</strong>, you need to pin the content subview to the scrollView. It is because you need to set frame as superview size (usally device size). It only shows frame amount of portion of its content size. To be simple, frame is how much you show from you content size.</p> <p>Download <a href="https://github.com/tottalE/scrollViewGuideTutorial/tree/main" target="_blank" rel="noopener noreferrer">this</a> example from my repo that you can start hands-on learning. Or you can make with following instructions.</p> <p>First, make a new project, and go to ViewController.swift file.</p> <p>In <code class="language-plaintext highlighter-rouge">ViewController.swift</code> add this code.</p> <ul> <li>This is contentView that we will put in our scrollView. I added UIVIew with colors so we can reconize it.</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">let</span> <span class="nv">contentView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">()</span>

    <span class="c1">// set up stackview to vertical</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setupStackView</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">contentView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">contentView</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
    <span class="p">}</span>

    <span class="c1">// fillstackview with colors.</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">fillStackView</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">colorArray</span> <span class="o">=</span> <span class="p">[</span><span class="kt">UIColor</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="o">.</span><span class="n">yellow</span><span class="p">,</span> <span class="o">.</span><span class="n">purple</span><span class="p">,</span> <span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="o">.</span><span class="n">orange</span><span class="p">,</span> <span class="o">.</span><span class="n">gray</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">color</span> <span class="k">in</span> <span class="n">colorArray</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">elementView</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">()</span>
            <span class="n">elementView</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">color</span>
            <span class="n">elementView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
            <span class="n">elementView</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="n">contentView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">elementView</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div> <ul> <li>Add this code after. This code creates scrollView and add contentView as its subview.</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">scrollView</span><span class="p">:</span> <span class="kt">UIScrollView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">scrollView</span> <span class="o">=</span> <span class="kt">UIScrollView</span><span class="p">()</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="k">return</span> <span class="n">scrollView</span>
    <span class="p">}()</span>
</code></pre></div></div> <ul> <li>At <code class="language-plaintext highlighter-rouge">viewDidload()</code> add this code as scrollView become subView of its superView.</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">scrollView</span><span class="p">)</span>
    <span class="n">scrollView</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">contentView</span><span class="p">)</span>
    <span class="nf">fillStackView</span><span class="p">()</span>
</code></pre></div></div> <ul> <li>make two empty functions that we can learn how to setup scrollViews with two steps.</li> <li> <strong>First</strong>, you need to fix the scrollView frame to its superview. <strong>Second</strong>, you need to pin the content subview to the scrollView. So I separted with functions.</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">setupScrollViewToSuperView</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="kd">func</span> <span class="nf">setupContentViewToScrollView</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div> <h2 id="with-scrollview-guide-new-way-to-do-it">With ScrollView guide, new way to do it</h2> <h3 id="what-is-layout-guide">What is layout Guide?</h3> <p>The UIScrollView class has two new layout guide properties from iOS 11:</p> <ol> <li><code class="language-plaintext highlighter-rouge">var frameLayoutGuide: UILayoutGuide { get }</code></li> </ol> <ul> <li>We can use it when creating constraints from the scroll view to its superview or when we want to fix (float) a subview of the scroll view over the content. Frame layout guide matches the scroll view frame.</li> </ul> <ol> <li><code class="language-plaintext highlighter-rouge">var contentLayoutGuide: UILayoutGuide { get }</code></li> </ol> <ul> <li>content layout guide matches the content area of the scroll view so we can use it when constraining our content to the scroll view.</li> </ul> <p>The guides donâ€™t add any new functionality but they do (I think) make it easier to follow what is going on.</p> <h3 id="start-hands-on">Start Hands-on</h3> <p>Put this code into your <code class="language-plaintext highlighter-rouge">setupScrollViewToSuperView()</code></p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">setupScrollViewToSuperView</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">frameLayoutGuide</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">frameLayoutGuide</span><span class="o">.</span><span class="n">topAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">topAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">frameLayoutGuide</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">frameLayoutGuide</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">),</span>
    <span class="p">])</span>
<span class="p">}</span>
</code></pre></div></div> <p>We just made scrollView`s frame size same to view size. So we finished frame setting.</p> <p>Next, We need to set contentLayoutGuide that constraining how much content we can scroll.</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">setupContentViewToScrollView</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">contentLayoutGuide</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">contentView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">contentLayoutGuide</span><span class="o">.</span><span class="n">topAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">contentView</span><span class="o">.</span><span class="n">topAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">contentLayoutGuide</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">contentView</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">),</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="n">contentLayoutGuide</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">contentView</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">)</span>
    <span class="p">])</span>

    <span class="n">scrollView</span><span class="o">.</span><span class="n">frameLayoutGuide</span><span class="o">.</span><span class="n">widthAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">scrollView</span><span class="o">.</span><span class="n">contentLayoutGuide</span><span class="o">.</span><span class="n">widthAnchor</span><span class="p">)</span>
<span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>

<span class="p">}</span>
</code></pre></div></div> <p>You would understand that we made content size and stackview(contentView)size same that we can set contentsize. But what is last line of code? <code class="language-plaintext highlighter-rouge">scrollView.frameLayoutGuide.widthAnchor.constraint(equalTo: scrollView.contentLayoutGuide.widthAnchor)</code> This means we are constraing content`s width same with our frame that we can scroll only vertically.</p> <p>full compeleted code is <a href="https://github.com/tottalE/scrollViewGuideTutorial/blob/completed/scrollViewGuide/ViewController.swift" target="_blank" rel="noopener noreferrer">here</a></p> <p>ref: https://useyourloaf.com/blog/easier-scrolling-with-layout-guides/</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> Â© Copyright 2022 jinju Ok. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>